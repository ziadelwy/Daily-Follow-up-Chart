<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Discharge form</title>
    <link rel="stylesheet" href="index.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        body {
            font-family: 'Arial', 'Tahoma', sans-serif;
            background: #fff;
            margin: 0;
            padding: 0;
        }
        .container {
            width: 21cm;
            max-width: 21cm;
            margin: 0 auto;
            background: #fff;
            border: 1px solid #ccc;
            padding: 0.5cm;
            box-shadow: 0 0 10px #eee;
            font-size: 11px;
        }
        
        @media print {
            .container {
                width: 90%;
                max-width: none;
                margin: 0;
                padding: 0.3cm;
                box-shadow: none;
                border: none;
                font-size: 10px;
            }
            .no-print {
                display: none !important;
            }
            body {
                margin: 0;
                padding: 0;
                font-size: 10px;
            }
            table {
                font-size: 9px !important;
                margin-bottom: 3px !important;
            }
            th, td {
                padding: 1px 2px !important;
                font-size: 9px !important;
            }
            input, select {
                font-size: 8px !important;
                padding: 1px !important;
                border: 1px solid #ccc !important;
            }
            .title {
                font-size: 14px !important;
                padding: 4px 0 !important;
                margin-bottom: 5px !important;
            }
            .header {
                margin-bottom: 5px !important;
            }
            .header .unit, .header .hospital {
                font-size: 10px !important;
                padding: 2px 5px !important;
            }
            .signature-section {
                margin-top: 10px !important;
            }
            .signature-box {
                font-size: 9px !important;
            }
            .blue-cell {
                font-size: 9px !important;
                padding: 1px 2px !important;
            }
            .section-title {
                font-size: 9px !important;
                padding: 2px 0 !important;
            }
            .maternal-input, .maternal-select {
                font-size: 8px !important;
                min-width: 30px !important;
                max-width: 60px !important;
            }
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .header .unit {
            border: 1px solid #000;
            padding: 3px 8px;
            font-weight: bold;
            font-size: 11px;
        }
        .header .hospital {
            font-weight: bold;
            font-size: 13px;
        }
        .title {
            text-align: center;
            background: #2986d4;
            color: #fff;
            font-size: 16px;
            font-weight: bold;
            padding: 4px 0;
            margin-bottom: 8px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 5px;
            font-size: 10px;
            page-break-inside: avoid;
        }
        th, td {
            border: 1px solid #000;
            padding: 2px 3px;
            vertical-align: middle;
            word-wrap: break-word;
            overflow: hidden;
            font-size: 10px;
        }
        th {
            background: #2986d4;
            color: #fff;
            font-weight: bold;
            text-align: center;
        }
        .section-title {
            background: #e6f0fa;
            font-weight: bold;
            text-align: right;
            padding: 6px 0;
        }
        .no-border {
            border: none !important;
        }
        .blue-cell {
            background: #2986d4;
            color: #fff;
            font-weight: bold;
        }
        .center {
            text-align: center;
        }
        .left {
            text-align: left;
        }
        .right {
            text-align: right;
        }
        .signature-section {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }
        .signature-box {
            width: 30%;
            text-align: center;
            border-top: 1px solid #000;
            padding-top: 3px;
            font-size: 10px;
        }
        .footer-date {
            text-align: left;
            font-size: 15px;
            margin-top: 10px;
        }
        input[type="text"], select {
            border: 1px solid #fff !important;
            background: #fff;
            color: #222;
            font-size: 9px;
            padding: 1px;
            width: 100%;
            box-sizing: border-box;
            height: auto;
        }
        .maternal-input, .maternal-select {
            min-width: 40px;
            max-width: 70px;
            width: 95%;
            font-size: 9px;
            box-sizing: border-box;
            padding: 1px;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <div class="unit">Ÿàÿ≠ÿØÿ© ÿ≠ÿ∂ÿßŸÜÿßÿ™ ÿßŸÑÿ£ÿ∑ŸÅÿßŸÑ</div>
        <div class="title">Discharge summary</div>
        <div class="hospital">ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿ≤ŸÖÿ≤ŸÖ</div>
    </div>
    
    <!-- ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ™ŸÜŸÇŸÑ -->
    <div class="no-print" style="text-align: center; margin-bottom: 20px; padding: 10px; background-color: #f8f9fa; border-radius: 5px;">
        <button onclick="window.location.href='dashboard.html'" style="background-color: #27ae60; color: white; border: none; padding: 8px 16px; margin: 0 5px; border-radius: 4px; cursor: pointer; font-size: 14px;">üè† dashboard</button>
        <button onclick="window.location.href='index.html'" style="background-color: #2986d4; color: white; border: none; padding: 8px 16px; margin: 0 5px; border-radius: 4px; cursor: pointer; font-size: 14px;">ÿßŸÑÿπŸàÿØÿ© ŸÑŸÑŸÖÿ™ÿßÿ®ÿπÿ©</button>
    </div>
    <!-- Hospital & Infant Data -->
    <table>
        <tr>
            <td class="blue-cell" rowspan="3" style="width: 80px; font-size:11px;">Hospital Data</td>
            <td class="blue-cell" style="width: 70px;">Treating Dr</td>
            <td style="width: 120px;">
                <select name="treating_dr" style="width:100%;font-size:10px;">
                    <option>ÿØ/ Ÿáÿ®ÿ© ÿßŸÑŸÖŸáÿØŸä</option>
                    <option>ÿØ/ </option>
                </select>
            </td>
            <td class="blue-cell" style="width: 80px;">Discharge Date</td>
            <td style="width: 80px;" id="discharge-date"></td>
            <td class="blue-cell" style="width: 80px;">Discharge Cause</td>
            <td style="width: 80px;">
                <select name="improvement" style="width:100%;font-size:10px;">
                    <option>Improvement</option>
                    <option>Referral</option>
                    <option>Died</option>
                    <option>--</option>
                </select>
            </td>
            <td class="blue-cell" style="width: 60px;">File No</td>
            <td style="width: 80px;"><input type="text" name="file_no" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
       
    </table>
    <table>
        <tr>
            <td class="blue-cell" rowspan="3" style="width: 80px; font-size:11px;">Patient Data</td>
            <td class="blue-cell" style="width: 70px;">Patient Name</td>
            <td style="width: 120px;"><input type="text" name="patient_name" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
            <td class="blue-cell" style="width: 50px;">Gender</td>
            <td style="width: 50px;"><input type="text" name="gender" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
            <td class="blue-cell" style="width: 70px;">Birth Date</td>
            <td style="width: 80px;"><input type="text" name="birth_date" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
            <td class="blue-cell" style="width: 80px;">Age on admission</td>
            <td style="width: 60px;"><input type="text" name="age_on_admission" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
        <tr>
            <td class="blue-cell" style="width: 70px;">Admission Date</td>
            <td style="width: 120px;"><input type="text" name="admission_date" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
            <td class="blue-cell" style="width: 50px;">GA</td>
            <td style="width: 50px;"><input type="text" name="ga" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
            <td class="blue-cell" style="width: 70px;">B. Wt</td>
            <td style="width: 80px;"><input type="text" name="b_wt" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
            <td class="blue-cell" style="width: 80px;">Age on discharge</td>
            <td style="width: 60px;"><input type="text" name="age_on_discharge" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
    </table>
    <!-- Maternal Data -->
    <table>
        <tr>
            <td class="blue-cell" rowspan="4" style="width: 80px; font-size:11px;">Maternal Data</td>
            <td class="blue-cell">Age</td>
            <td><input type="text" name="age" class="maternal-input" style="width:95%;"></td>
            <td>
              <select name="g" class="maternal-select" style="width:95%;">
                <option selected>G</option>
                <option>G1</option>
                <option>G2</option>
                <option>G3</option>
                <option>G4</option>
                <option>G5</option>
                <option>G6</option>
                <option>G7</option>
                <option>G8</option>
                <option>G9</option>
              </select>
            </td>
            <td>
                <select name="p" class="maternal-select" style="width:95%;">
                  <option selected>P</option>
                  <option>P0</option>
                  <option>P1</option>
                  <option>P2</option>
                  <option>P3</option>
                  <option>P4</option>
                  <option>P5</option>
                  <option>P6</option>
                  <option>P7</option>
                  <option>P8</option>
                  <option>P9</option>
                </select>
            </td>
            <td>
                <select name="a" class="maternal-select" style="width:95%;">
                  <option selected>A</option>
                  <option>A0</option>
                  <option>A1</option>
                  <option>A2</option>
                  <option>A3</option>
                  <option>A4</option>
                  <option>A5</option>
                  <option>A6</option>
                  <option>A7</option>
                </select>
            </td>
            <td>
                <select name="l" class="maternal-select" style="width:95%;">
                  <option selected>L</option>
                  <option>L0</option>
                  <option>L1</option>
                  <option>L2</option>
                  <option>L3</option>
                  <option>L4</option>
                  <option>L5</option>
                  <option>L6</option>
                  <option>L7</option>
                  <option>L8</option>
                </select>
            </td>           
            
        </tr>
        <tr>
            <td class="blue-cell">Blood Gr</td>
            <td>
              <select name="blood_gr" class="maternal-select" style="width:95%;">
                <option value=""selected>-----</option>
                <option value="A +ve">A +ve</option>
                <option value="A -ve">A -ve</option>
                <option value="B +ve">B +ve</option>
                <option value="B -ve">B -ve</option>
                <option value="O +ve">O +ve</option>
                <option value="O -ve">O -ve</option>
                <option value="AB +ve">AB +ve</option>
                <option value="AB -ve">AB -ve</option>
              </select>
            </td>
            <td class="blue-cell">Hypertension</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option selected>No</option></select></td>
            <td class="blue-cell">Hypothyroidism</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option selected>No</option></select></td>
            
        </tr>
        <tr>
            <td class="blue-cell">DM/ttt</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option selected>No</option></select></td>
            <td class="blue-cell">TORCH</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option selected>No</option></select></td>
            <td class="blue-cell">U/S</td>
            <td><input type="text" name="us" class="maternal-input" style="width:95%;"></td>
        </tr>
        <tr>
            <td class="blue-cell">PROM/AB</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option selected>No</option></select></td>
            <td class="blue-cell">Medical/Surgical problem</td>
            <td colspan="11"><input type="text" name="medical_surgical_problem" class="maternal-input" style="width:50%;"></td>
        </tr>
    </table>
    <!-- Delivery -->
    <table>

        <tr>
            <td class="blue-cell" rowspan="3" style="width: 80px; font-size:11px;">Delivery</td>
            <td class="blue-cell">Date</td>
            <td id="delivery-date"></td>
            
        </tr>
        <tr>
            <td class="blue-cell">Hospital</td>
            <td id="delivery-hospital"></td>
            <td class="blue-cell">Resuscitation</td>
            <td colspan="2">
              <select name="resuscitation" style="width:100%;font-size:10px;">
                <option selected>Not Attended</option>
                <option>              </option>
              </select>
            </td>
        </tr>
        <tr>
            <td class="blue-cell">Type</td>
            <td>
              <select name="delivery_type" style="width:100%;font-size:10px;">
                <option value="C S">C S</option>
                <option value="NAD">NAD</option>
              </select>
            </td>
            
            <td class="blue-cell">APGAR score</td>
            <td>
              <select name="apgar_score" style="width:100%;font-size:10px;">
                <option selected>Not Attended</option>
                <option>          </option>
              </select>
            </td>
        </tr>
    </table>
    <!-- Diagnosis -->
    <table>
        <tr>
            <td class="blue-cell" rowspan="2" style="width: 80px; font-size:11px;">Diagnosis</td>
            <td class="blue-cell">Admission diagnosis</td>
            <td colspan="7"><input type="text" name="admission_diagnosis" list="diagnosisOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑÿ™ÿ¥ÿÆŸäÿµ ŸäÿØŸàŸäŸãÿß ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td>
        </tr>
        <tr>
            <td class="blue-cell">Discharge diagnosis</td>
            <td colspan="7"><input type="text" name="discharge_diagnosis" list="diagnosisOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑÿ™ÿ¥ÿÆŸäÿµ ŸäÿØŸàŸäŸãÿß ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td>
        </tr>
    </table>
    <!-- Problem List -->
    <table>
        <tr>
            <td class="blue-cell" rowspan="5" style="width: 80px; font-size:11px;">Problem List</td>
            <td class="blue-cell">Problem</td>
            <td class="blue-cell">Date</td>
            <td class="blue-cell">Intervention</td>
            <td class="blue-cell">Outcome</td>
        </tr>
        <tr>
            <td><input type="text" name="problem1" list="problemOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑŸÖÿ¥ŸÉŸÑÿ© ŸäÿØŸàŸäŸãÿß ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td><input type="text" name="problem2" list="problemOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑŸÖÿ¥ŸÉŸÑÿ© ŸäÿØŸàŸäŸãÿß ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td><input type="text" name="problem3" list="problemOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑŸÖÿ¥ŸÉŸÑÿ© ŸäÿØŸàŸäŸãÿß ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td><input type="text" name="problem4" list="problemOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑŸÖÿ¥ŸÉŸÑÿ© ŸäÿØŸàŸäŸãÿß ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
    <!-- Examination -->
    <table>
        <tr>
            <td class="blue-cell" rowspan="11" style="width: 80px; font-size:11px;">Examination</td>
            <td class="blue-cell">System</td>
            <td class="blue-cell">On admission</td>
            <td class="blue-cell">On Discharge</td>
        </tr>
        <tr><td class="blue-cell">General</td><td><input type="text" name="general_on_admission" list="generalOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td><td><input type="text" name="general_on_discharge" list="generalOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td></tr>
        <tr><td class="blue-cell">Head and neck</td><td><input type="text" name="head_neck_on_admission" list="headNeckOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td><td><input type="text" name="head_neck_on_discharge" list="headNeckOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td></tr>
        <tr><td class="blue-cell">measurments</td><td><input type="text" name="measurments_on_admission" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑŸÇŸäŸÖÿ©"></td><td><input type="text" name="measurments_on_discharge" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑŸÇŸäŸÖÿ©"></td></tr>
        <tr><td class="blue-cell">CNS</td><td><input type="text" name="cns_on_admission" list="cnsOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td><td><input type="text" name="cns_on_discharge" list="cnsOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td></tr>
        <tr><td class="blue-cell">CVS</td><td><input type="text" name="cvs_on_admission" list="cvsOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td><td><input type="text" name="cvs_on_discharge" list="cvsOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td></tr>
        <tr><td class="blue-cell">Respiratory</td><td><input type="text" name="respiratory_on_admission" list="respiratoryOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td><td><input type="text" name="respiratory_on_discharge" list="respiratoryOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td></tr>
        <tr><td class="blue-cell">Abdomen/Genitalia</td><td><input type="text" name="abdomen_on_admission" list="abdomenOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td><td><input type="text" name="abdomen_on_discharge" list="abdomenOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td></tr>
        <tr><td class="blue-cell">Limbs|Spine</td><td><input type="text" name="limbs_on_admission" list="limbsOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td><td><input type="text" name="limbs_on_discharge" list="limbsOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td></tr>
        <tr><td class="blue-cell">Others</td><td><input type="text" name="others_on_admission" list="limbsOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td><td><input type="text" name="others_on_discharge" list="limbsOptions" style="width:98%;font-size:10px;box-sizing:border-box;" placeholder="ÿ£ÿØÿÆŸÑ ÿ£Ÿà ÿßÿÆÿ™ÿ±"></td></tr>
    </table>
    <!-- Significant Lab -->
    <table>
        <tr>
            <td class="blue-cell" rowspan="5" style="width: 80px; font-size:11px;">Significant Lab</td>
            <td class="blue-cell">Parameter</td>
            <td class="blue-cell">On admission</td>
            <td class="blue-cell">In patient</td>
            <td class="blue-cell">On discharge</td>
            <td class="blue-cell">Parameter</td>
            <td class="blue-cell">On admission</td>
            <td class="blue-cell">In patient</td>
            <td class="blue-cell">On discharge</td>
        </tr>
        <tr><td class="blue-cell">HB</td><td><input type="text" name="hb_on_admission" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td><input type="text" name="hb_in_patient" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td><input type="text" name="hb_on_discharge" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td class="blue-cell">CRP|Culture</td><td><input type="text" name="crp_on_admission" list="crpOptions" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td><input type="text" name="crp_in_patient" list="crpOptions" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td><input type="text" name="crp_on_discharge" list="crpOptions" style="width:98%;font-size:10px;box-sizing:border-box;"></td></tr>
        <tr><td class="blue-cell">Platelet</td><td><input type="text" name="platelet_on_admission" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td><input type="text" name="platelet_in_patient" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td><input type="text" name="platelet_on_discharge" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td class="blue-cell">TSB |DSB</td><td><input type="text" name="tsb_on_admission" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td><input type="text" name="tsb_in_patient" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td><input type="text" name="tsb_on_discharge" style="width:98%;font-size:10px;box-sizing:border-box;"></td></tr>
        <tr><td class="blue-cell">WBCs</td><td><input type="text" name="wbcs_on_admission" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td><input type="text" name="wbcs_in_patient" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td><input type="text" name="wbcs_on_discharge" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td class="blue-cell">Na|K|CA</td><td><input type="text" name="na_on_admission" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td><input type="text" name="na_in_patient" style="width:98%;font-size:10px;box-sizing:border-box;"></td><td><input type="text" name="na_on_discharge" style="width:98%;font-size:10px;box-sizing:border-box;"></td></tr>
        <tr><td class="blue-cell">Blood Gr</td><td><select name="blood_gr" class="maternal-select" style="width:95%;">
          <option value=""selected>----</option>
          <option value="A +ve">A +ve</option>
          <option value="A -ve">A -ve</option>
          <option value="B +ve">B +ve</option>
          <option value="B -ve">B -ve</option>
          <option value="O +ve">O +ve</option>
          <option value="O -ve">O -ve</option>
          <option value="AB +ve">AB +ve</option>
          <option value="AB -ve">AB -ve</option>
        </select></td><td></td><td></td><td class="blue-cell">s.urea|creat</td><td><input type="text" name="s_urea_on_admission" style="width:98%;font-size:15px;box-sizing:border-box;"></td><td><input type="text" name="s_urea_in_patient" style="width:98%;font-size:15px;box-sizing:border-box;"></td><td><input type="text" name="s_urea_on_discharge" style="width:98%;font-size:15px;box-sizing:border-box;"></td></tr>
    </table>
    <table>
        <tr>
            <td class="blue-cell" rowspan="5" style="width: 80px; font-size:11px;">Imaging</td>
            <td class="blue-cell" style="width: 80px;">X ray</td>
            <td><input type="text" name="xray" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
        <tr>
            <td class="blue-cell" style="width: 80px;">U/S</td>
            <td><input type="text" name="us_imaging" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
        <tr>
            <td class="blue-cell" style="width: 80px;">Echo</td>
            <td><input type="text" name="echo" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
    </table>
    <table>
        <tr>
            <th rowspan="7" style="width: 80px; font-size:11px;">Medications</th>
        </tr>
        <tr>
            <td class="blue-cell">Drug</td>
            <td class="blue-cell">Duration</td>
            <td class="blue-cell">Drug</td>
            <td class="blue-cell">Duration</td>
            <td class="blue-cell">Drug</td>
            <td class="blue-cell">Duration</td>
        </tr>
        <tr>
            <td><input type="text" name="drug1" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="number" name="duration1" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="text" name="drug2" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="number" name="duration2" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="text" name="drug3" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="number" name="duration3" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
        <tr>
            <td><input type="text" name="drug4" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="number" name="duration4" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="text" name="drug5" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="number" name="duration5" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="text" name="drug6" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="number" name="duration6" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
        <tr>
            <td><input type="text" name="drug7" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="number" name="duration7" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="text" name="drug8" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="number" name="duration8" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="text" name="drug9" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="number" name="duration9" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
        <tr>
            <td><input type="text" name="drug10" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="number" name="duration10" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="text" name="drug11" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="number" name="duration11" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="text" name="drug12" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
            <td><input type="number" name="duration12" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
    </table>
    <table>
        <tr>
            <th style="width: 80px; font-size:11px;">Resp. support</th>
            <td><input type="text" list="problemOptions" style="width:98%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
    </table>
    <table>
        <tr>
            <th style="width: 80px; font-size:11px;">Others</th>
            <td class="blue-cell">Phototherapy</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option>No</option></select></td>
            <td class="blue-cell">Exchange transfusion</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option>No</option></select></td>
            <td class="blue-cell">Blood Transfusion</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option>No</option></select></td>
        </tr>
    </table>
    <table>
        <tr>
            <th style="width: 80px; font-size:11px;">Interventions</th>
            <td class="blue-cell">UVC/UAC</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option selected>No</option></select></td>
            <td class="blue-cell">Central Line</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option selected>No</option></select></td>
            <td class="blue-cell">Chest Tube</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option selected>No</option></select></td>
            <td class="blue-cell">Lumber Puncture</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option selected>No</option></select></td>
        </tr>
    </table>
    <table>
        <tr>
            <th style="width: 80px; font-size:11px;">Screening</th>
            <td class="blue-cell">ROP</td>
            <td><select style="width:100%;font-size:10px;">
                <option>Needed</option>
                <option>No</option>
                <option>Follow up</option>
            </select></td>
            <td class="blue-cell">Hearing</td>
            <td><select style="width:100%;font-size:10px;">
                <option>Needed</option>
                <option>No</option>
                <option>Follow up</option>
            </select></td>
            <td class="blue-cell">Hypothyroidism</td>
            <td><select style="width:100%;font-size:10px;"><option>Yes</option><option selected>No</option></select></td>
        </tr>
    </table>
    <table>
        <tr>
            <th rowspan="2" style="width: 80px; font-size:11px;">Vacination</th>
            <td>ÿßŸÑÿ™ÿ∑ÿπŸäŸÖÿßÿ™ ÿ≠ÿ≥ÿ® ÿ¨ÿØŸàŸÑ Ÿàÿ≤ÿßÿ±ÿ© ÿßŸÑÿµÿ≠ÿ© ÿßŸÑŸÖÿµÿ±Ÿäÿ©</td>
        </tr>
    </table>
    <table>
        <tr>
            <th rowspan="5" style="width: 80px; font-size:11px;">Discharge medications and feeding</th>
            <td colspan="6"><input type="text" value="ÿßŸÑÿ±ÿ∂ÿßÿπÿ© ÿ≠ÿ≥ÿ® ÿßŸÑÿ±ÿ∫ÿ®ÿ© ŸÖŸÜ ÿßŸÑÿßŸÖ ÿßŸà ŸÑÿ®ŸÜ ŸÉÿßŸÖŸÑ ÿßŸÑŸÜŸÖŸà ÿ±ŸÇŸÖ 1 ŸÉŸÑ 3 ÿ≥ÿßÿπÿßÿ™ ÿ®ÿßŸÑŸÅŸÖ" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
        <tr>
            <td colspan="6"><input type="text" value="Vi Drop   ŸÇÿ∑ÿßÿ±ÿ© ÿßÿ±ÿ®ÿπ ŸÜŸÇÿ∑ ÿ®ÿßŸÑŸÅŸÖ ŸäŸàŸÖŸäÿß" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
        <tr>
            <td colspan="6"><input type="text" value="ÿ≥ÿßŸäŸÖŸäÿ´ŸÉŸàŸÜ ŸÇÿ∑ÿßÿ±Ÿá ŸÉŸÑ 8 ÿ≥ÿßÿπÿßÿ™ ÿ®ÿπÿØ ÿßŸÑÿ±ÿ∂ÿßÿπÿ© ÿ®ÿßŸÑŸÅŸÖ" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
        <tr>
            <td colspan="6"><input type="text" value="ÿßŸàÿ™ÿ±ŸäŸÅŸäŸÜ ÿ®Ÿäÿ®Ÿä ÿ≥ÿßŸÑÿßŸäŸÜ ŸÉŸÑ 6 ÿ≥ÿßÿπÿßÿ™ ŸÇÿ®ŸÑ ÿßŸÑÿ±ÿ∂ÿßÿπÿ©" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
        <tr>
            <td colspan="6"><input type="text" value="" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
    </table>
    <table>
        <tr>
            <th rowspan="2" style="width: 80px; font-size:11px;">Instructions</th>
            <td colspan="6"><input type="text" value="ÿπŸÖŸÑ ŸÖŸÇŸäÿßÿ≥ ÿ≥ŸÖÿπ ÿ®ÿßŸÑŸàÿ≠ÿØŸá ÿßŸÑÿµÿ≠ŸäŸá" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
        <tr>
            <td colspan="6"><input type="text" value="ÿπŸÖŸÑ ŸÅÿ≠ÿµ ŸÇÿßÿπ ÿπŸäŸÜ ÿπŸÜÿØ ŸàÿµŸàŸÑ ÿßŸÑÿ∑ŸÅŸÑ ŸÑÿπŸÖÿ± 21 ŸäŸàŸÖ ŸÖŸÜ ŸÖŸäŸÑÿßÿØŸá" style="width:100%;font-size:10px;box-sizing:border-box;"></td>
        </tr>
    </table>
    <table>
        <tr>
            <th style="width: 80px; font-size:11px;">Follow up plan</th>
            <td colspan="6" id="follow-up-plan"></td>
        </tr>
    </table>
    <div class="signature-section">
        <div class="signature-box">
            Treating Physician<br>
            <select name="treating_dr" style="width:100%;font-size:10px;">
                <option>ÿØ/ ŸÖÿ≠ŸÖÿØ ŸäŸàÿ≥ŸÅ ŸÖÿ¨ÿßŸáÿØ</option>
                <option>ÿØ/ ŸÖÿ≠ŸÖÿØ ÿßŸÑŸÉÿßÿ¥ŸÅ</option>
            </select>  
        </div>
        <div class="signature-box">
            Signature<br>
            <input type="text" value="" style="width:100%;font-size:10px;box-sizing:border-box;">
        </div>
        <div class="signature-box">
            Date<br>
            <span id="signature-date"></span>
        </div>
    </div>
    
    <!-- ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ™ÿ≠ŸÉŸÖ -->
    <div class="no-print" style="text-align: center; margin-top: 30px; padding: 20px; border-top: 2px solid #2986d4;">
        <button onclick="window.print()" style="background-color: #2986d4; color: white; border: none; padding: 10px 20px; margin: 0 10px; border-radius: 5px; cursor: pointer; font-size: 16px;">üñ®Ô∏è ÿ∑ÿ®ÿßÿπÿ© ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨</button>
        <button onclick="clearAllDischargeFields()" style="background-color: #e74c3c; color: white; border: none; padding: 10px 20px; margin: 0 10px; border-radius: 5px; cursor: pointer; font-size: 16px;">üóëÔ∏è ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™</button>
        <button onclick="window.location.href='index.html'" style="background-color: #27ae60; color: white; border: none; padding: 10px 20px; margin: 0 10px; border-radius: 5px; cursor: pointer; font-size: 16px;">üè† ÿßŸÑÿπŸàÿØÿ© ŸÑŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</button>
    </div>
</div>
<script>
  // ÿπÿ±ÿ∂ ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑŸäŸàŸÖ ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã ŸÅŸä ÿÆÿßŸÜÿ© Discharge Date
  const today = new Date();
  const yyyy = today.getFullYear();
  const mm = String(today.getMonth() + 1).padStart(2, '0');
  const dd = String(today.getDate()).padStart(2, '0');
  document.getElementById('discharge-date').textContent = `${yyyy}-${mm}-${dd}`;
  document.getElementById('signature-date').textContent = `${dd}/${mm}/${yyyy}`;

  // ÿ≠ÿ≥ÿßÿ® ÿßŸÑŸäŸàŸÖ ŸàÿßŸÑÿ™ÿßÿ±ŸäÿÆ ÿ®ÿπÿØ ŸäŸàŸÖŸäŸÜ
  const followUpDate = new Date(today);
  followUpDate.setDate(today.getDate() + 2);
  
  const followUpDay = followUpDate.toLocaleDateString('ar-SA', { weekday: 'long' });
  const followUpDD = String(followUpDate.getDate()).padStart(2, '0');
  const followUpMM = String(followUpDate.getMonth() + 1).padStart(2, '0');
  const followUpYYYY = followUpDate.getFullYear();
  
  document.getElementById('follow-up-plan').textContent = 
    `ÿßŸÑŸÖÿ™ÿßÿ®ÿπÿ© ÿØÿßÿÆŸÑ ÿ≠ÿ∂ÿßŸÜÿßÿ™ ÿ≤ŸÖÿ≤ŸÖ ŸäŸàŸÖ ${followUpDay} ÿßŸÑŸÖŸàÿßŸÅŸÇ ${followUpDD}/${followUpMM}/${followUpYYYY} ÿßŸÑÿ≥ÿßÿπÿ© 4 ÿπÿµÿ±ÿß`;

  // ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ≥ÿ™ŸÖÿπ ÿßŸÑÿ£ÿ≠ÿØÿßÿ´ ŸÑÿ≠ŸÇŸÑ File No
  document.addEventListener('DOMContentLoaded', function() {
    const fileNoInput = document.querySelector('input[name="file_no"]');
    if (fileNoInput) {
      // ÿ•ÿ∂ÿßŸÅÿ© ÿ™ÿ£ÿÆŸäÿ± 800 ŸÖŸÑŸÑŸä ÿ´ÿßŸÜŸäÿ© ŸÇÿ®ŸÑ ÿßŸÑÿ®ÿ≠ÿ´
      let searchTimeout;
      fileNoInput.addEventListener('input', function() {
        // ÿ•ŸÑÿ∫ÿßÿ° ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿ≥ÿßÿ®ŸÇ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÖŸàÿ¨ŸàÿØÿßŸã
        clearTimeout(searchTimeout);
        
        // ÿ™ÿ£ÿÆŸäÿ± ÿßŸÑÿ®ÿ≠ÿ´ ŸÑŸÖÿØÿ© 800 ŸÖŸÑŸÑŸä ÿ´ÿßŸÜŸäÿ©
        searchTimeout = setTimeout(() => {
          fetchChildDataForDischarge();
        }, 800);
      });
      
      console.log('ÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ≥ÿ™ŸÖÿπ ÿßŸÑÿ£ÿ≠ÿØÿßÿ´ ŸÑÿ≠ŸÇŸÑ File No ŸÖÿπ ÿ™ÿ£ÿÆŸäÿ± 800 ŸÖŸÑŸÑŸä ÿ´ÿßŸÜŸäÿ©');
    } else {
      console.error('ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ≠ŸÇŸÑ File No');
    }
  });

  // ÿØÿßŸÑÿ© ÿ¨ŸÑÿ® ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ∑ŸÅŸÑ ŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ™ŸÅÿ±Ÿäÿ∫
  async function fetchChildDataForDischarge() {
    try {
      const fileNo = document.querySelector('input[name="file_no"]').value.trim();
      console.log('ÿ™ŸÖ ÿ•ÿØÿÆÿßŸÑ ÿ±ŸÇŸÖ ÿßŸÑŸÖŸÑŸÅ:', fileNo);
      
      if (!fileNo) {
        clearDischargeFields();
        return;
      }

      // ÿ•ÿ∏Ÿáÿßÿ± ŸÖÿ§ÿ¥ÿ± ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ
      const fileNoInput = document.querySelector('input[name="file_no"]');
      fileNoInput.style.backgroundColor = '#fff3cd';
      fileNoInput.placeholder = 'ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ®ÿ≠ÿ´...';

      // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ Ÿàÿ¨ŸàÿØ Firebase
      if (typeof firebase === 'undefined') {
        throw new Error('Firebase ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠');
      }

      // ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Firebase ŸÖÿ®ÿßÿ¥ÿ±ÿ© ÿ®ÿØŸÑÿßŸã ŸÖŸÜ ÿßŸÑÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ ÿßŸÑÿØŸäŸÜÿßŸÖŸäŸÉŸä
      const database = firebase.database();
      console.log('ÿ™ŸÖ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');
      
      const snapshot = await database.ref('children').once('value');
      const children = snapshot.val() || {};
      console.log('ÿ™ŸÖ ÿ¨ŸÑÿ® ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ£ÿ∑ŸÅÿßŸÑ:', children);
      
      let child = null;
      for (const [id, c] of Object.entries(children)) {
        if (c.fileNo == fileNo) {
          child = c;
          break;
        }
      }

      if (child) {
        console.log('ÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿßŸÑÿ∑ŸÅŸÑ:', child);
        
        // ŸÖŸÑÿ° ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ∑ŸÅŸÑ
        document.querySelector('input[name="patient_name"]').value = child.motherName || "";
        document.querySelector('input[name="gender"]').value = child.childType || "";
        document.querySelector('input[name="ga"]').value = child.gestationalAge || "";
        
        // ÿ™ŸÜÿ≥ŸäŸÇ ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ
        if (child.entryDate) {
          const entryDate = new Date(child.entryDate);
          const formattedEntryDate = entryDate.toLocaleDateString('ar-EG');
          document.querySelector('input[name="admission_date"]').value = formattedEntryDate;
          
          // ŸÖŸÑÿ° ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑŸàŸÑÿßÿØÿ© ŸÅŸä ŸÇÿ≥ŸÖ Delivery
          document.getElementById('delivery-date').textContent = formattedEntryDate;
        }

        // ÿ™ŸÜÿ≥ŸäŸÇ ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑŸÖŸäŸÑÿßÿØ
        if (child.birthDate) {
          const birthDate = new Date(child.birthDate);
          const formattedBirthDate = birthDate.toLocaleDateString('ar-EG');
          document.querySelector('input[name="birth_date"]').value = formattedBirthDate;
        }

        // ÿ≠ÿ≥ÿßÿ® ÿßŸÑÿπŸÖÿ± ÿπŸÜÿØ ÿßŸÑÿØÿÆŸàŸÑ
        if (child.birthDate && child.entryDate) {
          const birthDate = new Date(child.birthDate);
          const entryDate = new Date(child.entryDate);
          const ageOnAdmission = Math.floor((entryDate - birthDate) / (1000 * 60 * 60 * 24));
          document.querySelector('input[name="age_on_admission"]').value = ageOnAdmission === 0 ? "1" : ageOnAdmission.toString();
        }

        // ÿ≠ÿ≥ÿßÿ® ÿßŸÑÿπŸÖÿ± ÿπŸÜÿØ ÿßŸÑÿ™ŸÅÿ±Ÿäÿ∫
        if (child.birthDate) {
          const birthDate = new Date(child.birthDate);
          const today = new Date();
          const ageOnDischarge = Math.floor((today - birthDate) / (1000 * 60 * 60 * 24));
          document.querySelector('input[name="age_on_discharge"]').value = ageOnDischarge.toString();
        }

        // ŸÖŸÑÿ° ŸÖŸÉÿßŸÜ ÿßŸÑŸàŸÑÿßÿØÿ© ŸÅŸä ŸÇÿ≥ŸÖ Delivery
        if (child.birthPlace) {
          document.getElementById('delivery-hospital').textContent = child.birthPlace;
        } else {
          document.getElementById('delivery-hospital').textContent = '';
        }

        // ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ŸÖÿ§ÿ¥ÿ± ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ
        fileNoInput.style.backgroundColor = '#d4edda';
        fileNoInput.placeholder = 'ÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™';

        console.log('ÿ™ŸÖ ÿ¨ŸÑÿ® ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ∑ŸÅŸÑ ÿ®ŸÜÿ¨ÿßÿ≠:', child);

      } else {
        clearDischargeFields();
        
        // ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ŸÖÿ§ÿ¥ÿ± ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ
        fileNoInput.style.backgroundColor = '#f8d7da';
        fileNoInput.placeholder = 'ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ®ŸäÿßŸÜÿßÿ™';
        
        console.log('ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ∑ŸÅŸÑ ÿ®ÿ±ŸÇŸÖ ÿßŸÑŸÖŸÑŸÅ:', fileNo);
      }
    } catch (error) {
      console.error("ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ¨ŸÑÿ® ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ∑ŸÅŸÑ:", error);
      alert("ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ¨ŸÑÿ® ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ∑ŸÅŸÑ: " + error.message);
      clearDischargeFields();
      
      // ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ŸÖÿ§ÿ¥ÿ± ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ
      const fileNoInput = document.querySelector('input[name="file_no"]');
      fileNoInput.style.backgroundColor = '#f8d7da';
      fileNoInput.placeholder = 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ®ÿ≠ÿ´';
    }
  }

  // ÿØÿßŸÑÿ© ŸÖÿ≥ÿ≠ ÿßŸÑÿ≠ŸÇŸàŸÑ
  function clearDischargeFields() {
    document.querySelector('input[name="patient_name"]').value = "";
    document.querySelector('input[name="gender"]').value = "";
    document.querySelector('input[name="birth_date"]').value = "";
    document.querySelector('input[name="age_on_admission"]').value = "";
    document.querySelector('input[name="admission_date"]').value = "";
    document.querySelector('input[name="ga"]').value = "";
    document.querySelector('input[name="age_on_discharge"]').value = "";
    
    // ŸÖÿ≥ÿ≠ ÿ®ŸäÿßŸÜÿßÿ™ Delivery
    document.getElementById('delivery-date').textContent = "";
    document.getElementById('delivery-hospital').textContent = "";
    document.querySelector('select[name="delivery_type"]').value = "C S";
    
    // ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ŸÖÿ§ÿ¥ÿ± ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ
    const fileNoInput = document.querySelector('input[name="file_no"]');
    if (fileNoInput) {
      fileNoInput.style.backgroundColor = '';
      fileNoInput.placeholder = '';
    }
  }

  // ÿØÿßŸÑÿ© ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨
  function clearAllDischargeFields() {
    if (confirm('ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨ÿü')) {
      // ŸÖÿ≥ÿ≠ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ∑ŸÅŸÑ
      clearDischargeFields();
      
      // ŸÖÿ≥ÿ≠ ÿ≠ŸÇŸÑ ÿ±ŸÇŸÖ ÿßŸÑŸÖŸÑŸÅ
      const fileNoInput = document.querySelector('input[name="file_no"]');
      if (fileNoInput) {
        fileNoInput.value = "";
        fileNoInput.style.backgroundColor = '';
        fileNoInput.placeholder = '';
      }
      
      // ŸÖÿ≥ÿ≠ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ£ŸÖ
      document.querySelector('input[name="age"]').value = "";
      document.querySelector('select[name="g"]').value = "G";
      document.querySelector('select[name="p"]').value = "P";
      document.querySelector('select[name="a"]').value = "A";
      document.querySelector('select[name="l"]').value = "L";
      document.querySelector('select[name="blood_gr"]').value = "B +ve";
      document.querySelector('input[name="us"]').value = "";
      document.querySelector('input[name="medical_surgical_problem"]').value = "";
      
      // ŸÖÿ≥ÿ≠ ÿßŸÑÿ™ÿ¥ÿÆŸäÿµ
      document.querySelector('input[name="admission_diagnosis"]').value = "";
      document.querySelector('input[name="discharge_diagnosis"]').value = "";
      
      // ŸÖÿ≥ÿ≠ ÿßŸÑŸÖÿ¥ÿßŸÉŸÑ
      document.querySelectorAll('input[name^="problem"]').forEach(input => {
        input.value = "";
      });
      
      // ŸÖÿ≥ÿ≠ ÿßŸÑŸÅÿ≠ÿµ
      document.querySelectorAll('input[name*="on_admission"], input[name*="on_discharge"]').forEach(input => {
        input.value = "";
      });
      
      // ŸÖÿ≥ÿ≠ ÿßŸÑŸÖÿπÿßŸÖŸÑ
      document.querySelectorAll('input[name*="on_admission"], input[name*="in_patient"], input[name*="on_discharge"]').forEach(input => {
        input.value = "";
      });
      
      // ŸÖÿ≥ÿ≠ ÿßŸÑÿ£ÿ¥ÿπÿ©
      document.querySelector('input[name="xray"]').value = "";
      document.querySelector('input[name="us_imaging"]').value = "";
      document.querySelector('input[name="echo"]').value = "";
      
      // ŸÖÿ≥ÿ≠ ÿßŸÑÿ£ÿØŸàŸäÿ©
      document.querySelectorAll('input[name^="drug"], input[name^="duration"]').forEach(input => {
        input.value = "";
      });
      
      // ŸÖÿ≥ÿ≠ ÿßŸÑÿØÿπŸÖ ÿßŸÑÿ™ŸÜŸÅÿ≥Ÿä
      document.querySelector('input[list="problemOptions"]').value = "";
      
      // ŸÖÿ≥ÿ≠ ÿßŸÑÿ™ÿØÿÆŸÑÿßÿ™
      document.querySelectorAll('select').forEach(select => {
        if (select.name && !select.name.includes('treating_dr') && !select.name.includes('g') && 
            !select.name.includes('p') && !select.name.includes('a') && !select.name.includes('l') && 
            !select.name.includes('blood_gr')) {
          select.selectedIndex = 0;
        }
      });
      
      // ŸÖÿ≥ÿ≠ ÿßŸÑÿ™ŸàŸÇŸäÿπ
      document.querySelector('input[type="text"]').value = "";
      
      alert('ÿ™ŸÖ ŸÖÿ≥ÿ≠ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ®ŸÜÿ¨ÿßÿ≠');
    }
  }

  // ÿ™ŸáŸäÿ¶ÿ© Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyCFZpFHWWor8ioA69BYFYdeEmCedFFeolE",
    authDomain: "daily-follow-up-chart-76cff.firebaseapp.com",
    databaseURL: "https://daily-follow-up-chart-76cff-default-rtdb.firebaseio.com",
    projectId: "daily-follow-up-chart-76cff",
    storageBucket: "daily-follow-up-chart-76cff.firebasestorage.app",
    messagingSenderId: "710567352538",
    appId: "1:710567352538:web:4f9f8f785dbd366009ede3",
    measurementId: "G-QH0PJZGVTM"
  };

  // ÿ™ŸáŸäÿ¶ÿ© Firebase ÿ•ÿ∞ÿß ŸÑŸÖ ŸäŸÉŸÜ ŸÖŸèŸáŸäÿ£ ÿ®ÿßŸÑŸÅÿπŸÑ
  if (!firebase.apps.length) {
    firebase.initializeApp(firebaseConfig);
  }
</script>
<datalist id="problemOptions">
  <option value="NJ‚û°Ô∏è‚û°Ô∏èPhototherapy"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èMV"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èMV‚û°Ô∏è‚û°Ô∏èNIMV"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èMV‚û°Ô∏è‚û°Ô∏èNIMV‚û°Ô∏è‚û°Ô∏èHFNC‚û°Ô∏è‚û°Ô∏èIO2‚û°Ô∏è‚û°Ô∏èOFF"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èMV‚û°Ô∏è‚û°Ô∏èNIMV‚û°Ô∏è‚û°Ô∏èNCMV‚û°Ô∏è‚û°Ô∏èHFNC"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èNIMV"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èNIMV‚û°Ô∏è‚û°Ô∏èMV"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èNIMV‚û°Ô∏è‚û°Ô∏èNCMV"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èNIMV‚û°Ô∏è‚û°Ô∏èHFNC"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èHFNC"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èHFNC‚û°Ô∏è‚û°Ô∏èHB"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èHFNC‚û°Ô∏è‚û°Ô∏èHB‚û°Ô∏è‚û°Ô∏èIO2‚û°Ô∏è‚û°Ô∏èOFF"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èHFNC‚û°Ô∏è‚û°Ô∏èNIMV‚û°Ô∏è‚û°Ô∏èMV"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏è-MV‚û°Ô∏è‚û°Ô∏èHFO"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èNC"></option>
  <option value="RD‚û°Ô∏è‚û°Ô∏èNC‚û°Ô∏è‚û°Ô∏èIO2‚û°Ô∏è‚û°Ô∏èOFF"></option>
</datalist>
<datalist id="diagnosisOptions">
  <option value="Female, FT , 37 w' , NJ"></option>
  <option value="Female, FT , 38 w' , RD"></option>
  <option value="Female, PT , 35 w' , RD"></option>
  <option value="Female, PT , 33 w' , RD"></option>
  <option value="Male, FT , 38 w' , RD"></option>
  <option value="Male, FT , 37 w' , NJ"></option>
  <option value="Male, FT , 37 w' , RD"></option>
  <option value="Male, NT , 36 w' , RD"></option>
  <option value="Male, PT , 33 w' , RD"></option>
  <option value="Male, PT , 32 w' , RD"></option>
  <option value="Male, PT , 34 w' , RD"></option>
  <option value="Male, PT , 31 w' , RD"></option>
</datalist>
<datalist id="generalOptions">
  <option value="MGC    -    SVS"></option>
  <option value="MGC"></option>
  <option value="CRITICAL - CYANOSIS"></option>
  <option value="BGC"></option>

</datalist>
<datalist id="headNeckOptions">
  <option value="NAD"></option>
  <option value="Hydrocephalus"></option>
  <option value="Icteric"></option>
</datalist>
<datalist id="cnsOptions">
  <option value="conscious , active"></option>
  <option value="CONSCIOUS - HYPOACTIVE"></option>
</datalist>
<datalist id="cvsOptions">
  <option value="S1 , S2 + M0"></option>
  <option value="S1 , S2 + SM"></option>
</datalist>
<datalist id="respiratoryOptions">
  <option value="BEAE , NO RD"></option>
  <option value="Decreased air entry bilateral , SCR , RD2"></option>
  <option value="Decreased air entry bilateral , SCR ,GRUNTING, RD3"></option>
</datalist>
<datalist id="abdomenOptions">
  <option value="lax , soft , tolerate oral feeding"></option>
  <option value="LAX , Soft"></option>
  <option value="lax soft mild distinsion"></option>
</datalist>
<datalist id="limbsOptions">
  <option value="NAD"></option>
</datalist>
<datalist id="crpOptions">
  <option value="Negative"></option>
  <option value="Positive"></option>
</datalist>

</body>
</html> 
